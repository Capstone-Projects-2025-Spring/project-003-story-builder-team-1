---
sidebar_position: 3
---

# Sequence Diagrams

## Initial Writing Story Process Sequence Diagram 
Many sequence diagrams use this initial sequence. Each Diagram that continues after this sequence will clarify that it continues from this sequence.
```mermaid
sequenceDiagram
    participant User
    participant Frontend
    participant Backend/Agent
    participant LLM
    participant Database
    User->>+Frontend: The User provides Agent(s) a prompt for story
    Frontend->>+Backend/Agent: Story Creation Request based on prompt
    Backend/Agent->>+LLM: Send user prompt for story creation to the LLM
    LLM-->>-Backend/Agent: Return story generated by the LLM
    Backend/Agent->>+Database: Store generated story request
    Database-->>-Backend/Agent: Returns document with entry id
    Backend/Agent-->>-Frontend: Return request successful response message
    Frontend-->>-User: Display story generated by Agent to User
```

## Use Case 1: Account Creation
```mermaid
sequenceDiagram
    participant User
    participant Frontend
    participant Backend
    participant Database
    User->>+Frontend: User clicks "Sign Up"
    Frontend-->>User: Redirect to Registration page
    loop Until valid email is provided
        User->>Frontend: User enters login information
        Frontend->>+Backend: Send credentials for authentication
        Backend->>+Database: Check database for email
        alt if Email exists
            Database-->>Backend: Returns existing email
            Backend-->>Frontend: Authentication failure response
            Frontend-->>User: "User already exists error" message
            Frontend-->>User: Prompts User to try again
        else if Email does not exist
            Database-->>Backend: Returns no email
            Backend-->>Frontend: Authentication success response
            Frontend-->>User: "Account successfully created" message
            Frontend-->>User: Redirect to Login Page
        end
    end
    deactivate Database
    deactivate Backend
    deactivate Frontend
```

## Use Case 2: Agent Creation
```mermaid
sequenceDiagram
    participant User
    participant Frontend
    participant Backend
    participant LLM
    participant Database
    User->>+Frontend: User clicks "Create Agent"
    Frontend-->>User: Prompts User for writing style
    opt Writing Style Preferences
    User->>Frontend: User specifies writing style
    end
    Frontend->>+Backend: Agent creation request
    Backend->>+Database: Search for Agent context
    alt if Agent context in database
        Database-->>Backend: Returns agent context
    else if Agent context is not in database
        Database-->>Backend: Returns empty cursor
        Backend->>+LLM: Search for Agent context request
        LLM-->>-Backend: Returns agent context
        Backend->>Database: Add agent context
        Database-->>-Backend: Returns document with entry id
    end
    Backend-->>-Frontend: Request successful response
    Frontend-->>User: "Agent successfully created" message
    Frontend-->>-User: Redirect to Agent Page
```

## Use Case 3: Agent Deletion
![Agent Deletion drawio](https://github.com/user-attachments/assets/2d3264f8-d7bc-4699-ace7-c73063241519)

## Use Case 4: Manual vs Automatic Mode Sequence Diagram
![Manual vs Automatic Sequence Diagram drawio](https://github.com/user-attachments/assets/0be1057e-c810-451e-a06c-0044f6aa09bf)

## Use Case 5: Involvement Options
![Involvement Options Sequence Diagram drawio](https://github.com/user-attachments/assets/e09a1c79-4eae-4b7b-9a44-aefd7b49dabe)

## Use Case 6: Editing Agent Work
This diagram assumes the sequence of events in [Initial Writing Story](#initial-writing-story-process-sequence-diagram) Process Sequence Diagram. 

![Editing Agent Work Sequence Diagram drawio](https://github.com/user-attachments/assets/f248a5e5-b196-4932-bc58-5cf5487b2bfa)

## Use Case 7: Viewing and Editing Chat History
This diagram assumes the sequence of events in [Initial Writing Story](#initial-writing-story-process-sequence-diagram) Process Sequence Diagram. 

![Viewing and Editing Chat History Sequence Diagram drawio](https://github.com/user-attachments/assets/b995ca1d-d13d-4d2c-b201-5ce5548269a9)

## Use Case 8: Voting for Stories
This diagram assumes the sequence of events in [Initial Writing Story](#initial-writing-story-process-sequence-diagram) Process Sequence Diagram.

![Voting for Stories Sequence Diagram drawio](https://github.com/user-attachments/assets/08bf9c45-a7a1-4975-8d3c-75ef229c1d4e)

## User Case 9: Vetoing Stories
This diagram assumes the sequence of events in [Initial Writing Story](#initial-writing-story-process-sequence-diagram) Process Sequence Diagram.

![Vetoing Stories Sequence Diagram drawio](https://github.com/user-attachments/assets/7a2d077a-2737-4b9a-936f-c27da21faf0d)

## Use Case 10: Critiquing Stories
This diagram assumes the sequence of events in [Initial Writing Story](#initial-writing-story-process-sequence-diagram) Process Sequence Diagram.

![Critiquing Stories Sequence Diagram drawio](https://github.com/user-attachments/assets/78bec6d2-943e-4429-b429-d87205cb8348)

