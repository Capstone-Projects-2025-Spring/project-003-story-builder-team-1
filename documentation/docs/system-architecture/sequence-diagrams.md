---
sidebar_position: 3
---

# Sequence Diagrams

## Initial Writing Story Process Sequence Diagram 
Many sequence diagrams use this initial sequence. Each Diagram that continues after this sequence will clarify that it continues from this sequence.
```mermaid
sequenceDiagram
    participant User
    participant Frontend
    participant Backend/Agent
    participant LLM
    participant Database
    User->>+Frontend: The User provides Agent(s) a prompt for story
    Frontend->>+Backend/Agent: Story Creation Request based on prompt
    Backend/Agent->>+LLM: Send user prompt for story creation to the LLM
    LLM-->>-Backend/Agent: Return story generated by the LLM
    Backend/Agent->>+Database: Store generated story request
    Database-->>-Backend/Agent: Returns document with entry id
    Backend/Agent-->>-Frontend: Return request successful response message
    Frontend-->>-User: Display story generated by Agent to User
```

## Use Case 1: Account Creation Sequence Diagran
```mermaid
sequenceDiagram
    participant User
    participant Frontend
    participant Backend
    participant Database
    User->>+Frontend: User clicks "Sign Up"
    Frontend-->>User: Redirect to Registration page
    loop Until valid email is provided
        User->>Frontend: User enters login information
        Frontend->>+Backend: Send credentials for authentication
        Backend->>+Database: Check database for email
        alt if Email exists
            Database-->>Backend: Returns existing email
            Backend-->>Frontend: Authentication failure response
            Frontend-->>User: "User already exists error" message
            Frontend-->>User: Prompts User to try again
        else if Email does not exist
            Database-->>Backend: Returns no email
            Backend-->>Frontend: Authentication success response
            Frontend-->>User: "Account successfully created" message
            Frontend-->>User: Redirect to Login Page
        end
    end
    deactivate Database
    deactivate Backend
    deactivate Frontend
```

## Use Case 2: Agent Creation Sequence Diagram
```mermaid
sequenceDiagram
    participant User
    participant Frontend
    participant Backend
    participant LLM
    participant Database
    User->>+Frontend: User clicks "Create Agent"
    Frontend-->>User: Prompts User for writing style
    opt Writing Style Preferences
    User->>Frontend: User specifies writing style
    end
    Frontend->>+Backend: Agent creation request
    Backend->>+Database: Search for Agent context
    alt if Agent context in database
        Database-->>Backend: Returns agent context
    else if Agent context is not in database
        Database-->>Backend: Returns empty cursor
        Backend->>+LLM: Search for Agent context request
        LLM-->>-Backend: Returns agent context
        Backend->>Database: Add agent context
        Database-->>-Backend: Returns document with entry id
    end
    Backend-->>-Frontend: Request successful response
    Frontend-->>User: "Agent successfully created" message
    Frontend-->>-User: Redirect to Agent Page
```

## Use Case 3: Agent Deletion Sequence Diagram
```mermaid
sequenceDiagram
    participant User
    participant Frontend
    participant Backend
    User->>+Frontend: User clicks "Agents"
    Frontend-->>User: Redirects to Agents Menu
    User->>Frontend: User clicks desired Agent
    Frontend-->>User: Redirects to desired Agent Menu
    User->>Frontend: User clicks "Delete Agent"
    Frontend->>+Backend: Agent deletion request
    alt if Deletion was successful
        Backend-->>Frontend: Returns "Agent successfully deleted" response
    else if Deletion was successful
        Backend-->>-Frontend: Returns "Error: Unable to delete agent" error response
    end
    Frontend-->>-User: Shows returned response
```

## Use Case 4: Viewing History Sequence Diagram
```mermaid
sequenceDiagram
    participant User
    participant Frontend
    User->>+Frontend: User clicks desired story
    Frontend-->>User: Redirects to story page
    User->>Frontend: User scrolls up to view story history until desired edit is found
    User->>Frontend: User clicks "view" on the desired result to view all the individual Agent contributions
    Frontend-->>-User: Shows all individual Agents and their specific work
```

## Use Case 5: Editing Agent Work
This diagram follows the [Viewing History](#use-case-4-viewing-history-sequence-diagram) sequence diagram. If the desired edit is the most current the diagram still applies as the only change is the lack of scrolling up to find it.

## Use Case 6: Voting for Stories
This diagram assumes the sequence of events in [Initial Writing Story](#initial-writing-story-process-sequence-diagram) Process Sequence Diagram.

![Voting for Stories Sequence Diagram drawio](https://github.com/user-attachments/assets/08bf9c45-a7a1-4975-8d3c-75ef229c1d4e)

## User Case 7: Vetoing Stories
This diagram assumes the sequence of events in [Initial Writing Story](#initial-writing-story-process-sequence-diagram) Process Sequence Diagram.

![Vetoing Stories Sequence Diagram drawio](https://github.com/user-attachments/assets/7a2d077a-2737-4b9a-936f-c27da21faf0d)

## Use Case 8: Critiquing Stories
This diagram assumes the sequence of events in [Initial Writing Story](#initial-writing-story-process-sequence-diagram) Process Sequence Diagram.

![Critiquing Stories Sequence Diagram drawio](https://github.com/user-attachments/assets/78bec6d2-943e-4429-b429-d87205cb8348)