"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[6416],{10719:e=>{e.exports=JSON.parse('{"url":"redocusaurus/backend-api.yaml","themeId":"theme-redoc","isSpecFile":true,"spec":{"openapi":"3.0.0","info":{"title":"Story Builder API","version":"1.2.0","description":"API for communication between frontend user interface, LLM Agents, and MongoDB Database."},"tags":[{"name":"courier","description":"Courier directly interacts with the LLM and Agents using carefully engineered prompts from information sent by Translator in order to get input to further refine."},{"name":"translator","description":"Translator sends data from Courier to the Frontend"},{"name":"db","description":"Database retrieves and stores data from the MongoDB database so that data can be created, retrieved, modified, or deleted."}],"components":{"parameters":{"userId":{"name":"user_id","in":"path","required":true,"schema":{"type":"string"},"description":"MongoDB User ID"},"storyId":{"name":"story_id","in":"path","required":true,"schema":{"type":"string"},"description":"MongoDB Story ID"},"agentId":{"name":"agent_id","in":"path","required":true,"schema":{"type":"string"},"description":"MongoDB Agent ID"},"chapterNumber":{"name":"chapter_number","in":"path","required":true,"schema":{"type":"integer","minimum":0},"description":"Chapter index"}},"responses":{"BadRequest":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"NotFound":{"description":"Resource Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"Conflict":{"description":"Conflict (e.g. already exists)","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}},"paths":{"/aggregate":{"post":{"tags":["courier"],"summary":"Aggregate agent responses and determine best result","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","description":"Information about the current story step and active agents.","properties":{"step":{"type":"string","description":"Current story step (e.g., generate_outline, critique_outline, etc.)"},"story_agents":{"type":"array","description":"List of agents participating.","items":{"type":"object","properties":{"agent_name":{"type":"string"},"agent_id":{"type":"string"},"persona":{"type":"string"}}}},"generate_outline":{"type":"object","properties":{"story_details":{"type":"string"},"extra_details":{"type":"string"}}},"critique_outline":{"type":"object","properties":{"story_details":{"type":"string"},"extra_details":{"type":"string"},"story_outline":{"type":"string"}}},"rewrite_outline":{"type":"object","properties":{"story_details":{"type":"string"},"extra_details":{"type":"string"},"story_outline":{"type":"string"},"outline_critique":{"type":"string"}}},"generate_first_chapter":{"type":"object","properties":{"story_details":{"type":"string"},"extra_details":{"type":"string"},"story_outline":{"type":"string"}}},"generate_next_chapter":{"type":"object","properties":{"story_details":{"type":"string"},"extra_details":{"type":"string"},"story_outline":{"type":"string"},"previous_chapters":{"type":"array","items":{"type":"object"}}}},"critique_chapter":{"type":"object","properties":{"story_details":{"type":"string"},"extra_details":{"type":"string"},"story_outline":{"type":"string"},"chapter":{"type":"object","properties":{"text":{"type":"string"}}}}},"rewrite_chapter":{"type":"object","properties":{"story_details":{"type":"string"},"extra_details":{"type":"string"},"story_outline":{"type":"string"},"chapter":{"type":"object","properties":{"text":{"type":"string"}}},"chapter_critique":{"type":"object","properties":{"critique":{"type":"string"}}}}},"user_id":{"type":"string","description":"User ID submitting the request."},"story_id":{"type":"string","description":"Story ID this aggregation belongs to."},"chapter_number":{"type":"integer","description":"Current chapter number (if applicable)."}}},"messages":{"type":"object","description":"Legacy support field, not used in aggregation logic."}}}}}},"responses":{"200":{"description":"Successful aggregation","content":{"application/json":{"schema":{"type":"object","properties":{"best_response":{"type":"object","description":"The best agent response after voting."},"all_results":{"type":"array","description":"All agent responses generated.","items":{"type":"object"}}}}}}},"500":{"description":"Internal server error occurred while aggregating"}}}},"/translate":{"get":{"tags":["translator"],"summary":"Stream translated story data","description":"- Requires `user_id`, `story_id`, `step`, and `chapter_number` as query parameters.  \\n- Returns a **text/event-stream** of translation chunks.  \\n- Errors out if any required field is missing or invalid.\\n","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"string"},"description":"The ID of the user requesting translation."},{"name":"story_id","in":"query","required":true,"schema":{"type":"string"},"description":"The ID of the story being processed."},{"name":"step","in":"query","required":true,"schema":{"type":"string","enum":["generate_outline","critique_outline","rewrite_outline","generate_first_chapter","generate_next_chapter","critique_chapter","rewrite_chapter"]},"description":"Which story step to translate."},{"name":"chapter_number","in":"query","required":true,"schema":{"type":"integer","minimum":0},"description":"Chapter index (0-based or 1-based, per your convention)."}],"responses":{"200":{"description":"Server-Sent Events stream of translated content chunks","content":{"text/event-stream":{"schema":{"type":"string","description":"A live SSE stream. Each `data: \u2026\\\\n\\\\n` chunk contains part of the translation;\\nan `event: done` signals completion.\\n"}}}},"400":{"description":"Bad request \u2014 missing or invalid query parameters","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"data":{"type":"object","description":"Echoes back the invalid/missing input."}}}}}},"404":{"description":"Agent list unobtainable","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"500":{"description":"Server error while fetching agents or step data","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"error":{"type":"string"}}}}}}}}},"/account_creation":{"post":{"tags":["db"],"summary":"Create a new user account","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["username","password"],"properties":{"username":{"type":"string"},"password":{"type":"string"}}}}}},"responses":{"201":{"description":"Account created"},"400":{"$ref":"#/components/responses/BadRequest"},"409":{"$ref":"#/components/responses/Conflict"}}}},"/account_login":{"post":{"tags":["db"],"summary":"Authenticate user credentials","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["username","password"],"properties":{"username":{"type":"string"},"password":{"type":"string"}}}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"user_id":{"type":"string"}}}}}},"400":{"$ref":"#/components/responses/BadRequest"},"401":{"description":"Invalid credentials"}}}},"/user/{user_id}/delete":{"post":{"tags":["db"],"summary":"Delete a user and all their stories","parameters":[{"$ref":"#/components/parameters/userId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["password"],"properties":{"password":{"type":"string"}}}}}},"responses":{"200":{"description":"User deleted"},"400":{"$ref":"#/components/responses/BadRequest"},"401":{"description":"Invalid credentials"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/user/{user_id}/update":{"post":{"tags":["db"],"summary":"Update username and/or password","parameters":[{"$ref":"#/components/parameters/userId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["username","password"],"properties":{"username":{"type":"string"},"password":{"type":"string"},"new_username":{"type":"string"},"new_password":{"type":"string"}}}}}},"responses":{"200":{"description":"User updated"},"400":{"$ref":"#/components/responses/BadRequest"},"401":{"description":"Invalid credentials"},"404":{"$ref":"#/components/responses/NotFound"},"409":{"$ref":"#/components/responses/Conflict"}}}},"/user/{user_id}":{"get":{"tags":["db"],"summary":"Get user details (including stories)","parameters":[{"$ref":"#/components/parameters/userId"}],"responses":{"200":{"description":"User found"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/create":{"post":{"tags":["db"],"summary":"Create a new story for a user","parameters":[{"$ref":"#/components/parameters/userId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["story_name","prompt","agents"],"properties":{"story_name":{"type":"string"},"prompt":{"type":"object","required":["story_details"],"properties":{"story_details":{"type":"string"},"extra_details":{"type":"string"}}},"agents":{"type":"array","items":{"type":"object","required":["agent_name"],"properties":{"agent_name":{"type":"string"}}}}}}}}},"responses":{"201":{"description":"Story created"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/get_stories":{"get":{"tags":["db"],"summary":"List all stories for a user","parameters":[{"$ref":"#/components/parameters/userId"}],"responses":{"200":{"description":"Array of stories"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/get_story":{"get":{"tags":["db"],"summary":"Get a single story","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"responses":{"200":{"description":"Story details"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/delete":{"post":{"tags":["db"],"summary":"Delete a story","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"responses":{"200":{"description":"Story deleted"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/{chapter_number}/get_chapter":{"get":{"tags":["db"],"summary":"Get a specific chapter","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"},{"$ref":"#/components/parameters/chapterNumber"}],"responses":{"200":{"description":"Chapter details"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/name_update":{"post":{"tags":["db"],"summary":"Update story name","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["story_name"],"properties":{"story_name":{"type":"string"}}}}}},"responses":{"200":{"description":"Name updated"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/get_number_of_chapters":{"get":{"tags":["db"],"summary":"Get number of chapters (excl. outline)","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"responses":{"200":{"description":"Chapter count"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/add_outline":{"post":{"tags":["db"],"summary":"Add or update story outline","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["outline"],"properties":{"outline":{"type":"string"}}}}}},"responses":{"200":{"description":"Outline set"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/add_agent_outlines":{"post":{"tags":["db"],"summary":"Add agent\u2010specific outline responses","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["outlines","votes"],"properties":{"outlines":{"type":"array","items":{"type":"object","properties":{"agent_id":{"type":"string"},"data":{"type":"string"},"thoughts":{"type":"string"}}}},"votes":{"type":"array","items":{"type":"object","properties":{"agent_id":{"type":"string"},"votes":{"type":"integer"}}}}}}}}},"responses":{"200":{"description":"Agent outlines saved"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/add_critique":{"post":{"tags":["db"],"summary":"Add or update best critique","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["chapter_number","critique"],"properties":{"chapter_number":{"type":"integer"},"critique":{"type":"string"}}}}}},"responses":{"200":{"description":"Critique saved"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/add_agent_critiques":{"post":{"tags":["db"],"summary":"Add agent\u2010specific critiques","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["chapter_number","critiques","votes"],"properties":{"chapter_number":{"type":"integer"},"critiques":{"type":"array","items":{"type":"object","properties":{"agent_id":{"type":"string"},"data":{"type":"string"},"thoughts":{"type":"string"}}}},"votes":{"type":"array","items":{"type":"object","properties":{"agent_id":{"type":"string"},"votes":{"type":"integer"}}}}}}}}},"responses":{"200":{"description":"Agent critiques saved"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/add_chapter":{"post":{"tags":["db"],"summary":"Add or update best chapter","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["story_chapter_number","text"],"properties":{"story_chapter_number":{"type":"integer"},"text":{"type":"string"}}}}}},"responses":{"200":{"description":"Chapter saved"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/add_agent_chapter":{"post":{"tags":["db"],"summary":"Add agent\u2010specific chapter responses","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["chapter_number","content","votes"],"properties":{"chapter_number":{"type":"integer"},"content":{"type":"array","items":{"type":"object","properties":{"agent_id":{"type":"string"},"data":{"type":"string"},"thoughts":{"type":"string"}}}},"votes":{"type":"array","items":{"type":"object","properties":{"agent_id":{"type":"string"},"votes":{"type":"integer"}}}}}}}}},"responses":{"200":{"description":"Agent chapters saved"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/{agent_id}/{chapter_number}/edit_agent_chapter":{"post":{"tags":["db"],"summary":"Edit an agent\u2019s chapter content","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"},{"$ref":"#/components/parameters/agentId"},{"$ref":"#/components/parameters/chapterNumber"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["content"],"properties":{"content":{"type":"string"}}}}}},"responses":{"200":{"description":"Chapter edited"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/{agent_id}/{chapter_number}/edit_agent_critique":{"post":{"tags":["db"],"summary":"Edit an agent\u2019s critique content","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"},{"$ref":"#/components/parameters/agentId"},{"$ref":"#/components/parameters/chapterNumber"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["critique"],"properties":{"critique":{"type":"string"}}}}}},"responses":{"200":{"description":"Critique edited"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/{agent_id}/{chapter_number}/get_critique":{"get":{"tags":["db"],"summary":"Get an agent\u2019s critique for a chapter","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"},{"$ref":"#/components/parameters/agentId"},{"$ref":"#/components/parameters/chapterNumber"}],"responses":{"200":{"description":"Critique returned"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/{agent_id}/{chapter_number}/get_votes":{"get":{"tags":["db"],"summary":"Get vote count for an agent\u2019s chapter","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"},{"$ref":"#/components/parameters/agentId"},{"$ref":"#/components/parameters/chapterNumber"}],"responses":{"200":{"description":"Vote count returned"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/get_outline":{"get":{"tags":["db"],"summary":"Get the story outline","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"responses":{"200":{"description":"Outline returned"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/story_agent_list":{"get":{"tags":["db"],"summary":"List all agents on a story","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"responses":{"200":{"description":"Array of { agent_id, agent_name, persona }"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/get_generated_outline_details":{"get":{"tags":["db"],"summary":"Details needed for generate_outline step","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"responses":{"200":{"description":"story_name, story_details, extra_details"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/get_critique_outline_details":{"get":{"tags":["db"],"summary":"Details for critique_outline step","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"responses":{"200":{"description":"story_name, story_details, extra_details, story_outline"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/get_rewrite_outline_details":{"get":{"tags":["db"],"summary":"Details for rewrite_outline step","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"responses":{"200":{"description":"story_name, story_details, extra_details, story_outline, outline_critique"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/get_first_chapter_details":{"get":{"tags":["db"],"summary":"Details for generate_first_chapter step","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"responses":{"200":{"description":"story_name, story_details, extra_details, story_outline"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/{chapter_number}/get_next_chapter_details":{"get":{"tags":["db"],"summary":"Details for generate_next_chapter step","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"},{"$ref":"#/components/parameters/chapterNumber"}],"responses":{"200":{"description":"story_name, story_details, extra_details, story_outline, previous_chapters"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/{chapter_number}/get_critique_chapter_details":{"get":{"tags":["db"],"summary":"Details for critique_chapter step","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"},{"$ref":"#/components/parameters/chapterNumber"}],"responses":{"200":{"description":"story_name, story_details, extra_details, story_outline, chapter"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/{chapter_number}/get_rewrite_chapter_details":{"get":{"tags":["db"],"summary":"Details for rewrite_chapter step","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"},{"$ref":"#/components/parameters/chapterNumber"}],"responses":{"200":{"description":"story_name, story_details, extra_details, story_outline, chapter, critique"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/story_step":{"get":{"tags":["db"],"summary":"Get the current story step","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"responses":{"200":{"description":"Current step (string)"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/story/{user_id}/{story_id}/update_story_step":{"post":{"tags":["db"],"summary":"Update the story step","parameters":[{"$ref":"#/components/parameters/userId"},{"$ref":"#/components/parameters/storyId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["step"],"properties":{"step":{"type":"string"}}}}}},"responses":{"200":{"description":"Updated step returned"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/personas":{"get":{"tags":["db"],"summary":"List all personas","responses":{"200":{"description":"Array of persona objects"}}}},"/create_persona":{"post":{"tags":["db"],"summary":"Create a new persona","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name","persona_info"],"properties":{"name":{"type":"string"},"persona_info":{"type":"string"}}}}}},"responses":{"201":{"description":"Persona created"},"400":{"$ref":"#/components/responses/BadRequest"},"409":{"$ref":"#/components/responses/Conflict"}}}},"/delete_persona":{"post":{"tags":["db"],"summary":"Delete a persona by name","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}}}}},"responses":{"200":{"description":"Persona deleted"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/agent/{name}":{"get":{"tags":["db"],"summary":"Get agent details by name","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Agent object"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/agent/create":{"post":{"tags":["db"],"summary":"Create a new agent","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name","story_details","chapter_count"],"properties":{"name":{"type":"string"},"story_details":{"type":"string"},"chapter_count":{"type":"integer"},"extra_details":{"type":"string"}}}}}},"responses":{"200":{"description":"Agent created"},"400":{"$ref":"#/components/responses/BadRequest"}}}},"/agent/{agent_id}/delete":{"post":{"tags":["db"],"summary":"Delete an agent by ID","parameters":[{"$ref":"#/components/parameters/agentId"}],"responses":{"200":{"description":"Agent deleted"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/agent/{agent_id}/update":{"post":{"tags":["db"],"summary":"Update an agent\u2019s prompt","parameters":[{"$ref":"#/components/parameters/agentId"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name","story_details","chapter_count"],"properties":{"name":{"type":"string"},"story_details":{"type":"string"},"chapter_count":{"type":"integer"},"extra_details":{"type":"string"}}}}}},"responses":{"200":{"description":"Agent updated"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/agent/{agent_id}/{story_id}/get_last_response":{"post":{"tags":["db"],"summary":"Append and return last response (internal)","parameters":[{"$ref":"#/components/parameters/agentId"},{"name":"story_id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["response"],"properties":{"response":{"type":"string"}}}}}},"responses":{"200":{"description":"Last response updated"},"400":{"$ref":"#/components/responses/BadRequest"},"404":{"$ref":"#/components/responses/NotFound"}}},"get":{"tags":["db"],"summary":"Get the last response for an agent in a story","parameters":[{"$ref":"#/components/parameters/agentId"},{"name":"story_id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Last response returned"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/agents":{"get":{"tags":["db"],"summary":"List all agents","responses":{"200":{"description":"Array of agent objects"}}}}}}}')}}]);