"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[7642],{95857:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>o,toc:()=>c});var r=s(74848),i=s(28453);const d={sidebar_position:1},t="Class Diagrams",o={id:"system-architecture/class-diagrams",title:"Class Diagrams",description:"Frontend Class Diagram",source:"@site/docs/system-architecture/class-diagrams.md",sourceDirName:"system-architecture",slug:"/system-architecture/class-diagrams",permalink:"/project-003-story-builder-team-1/docs/system-architecture/class-diagrams",draft:!1,unlisted:!1,editUrl:"https://github.com/Capstone-Projects-2025-Spring/project-003-story-builder-team-1/edit/main/documentation/docs/system-architecture/class-diagrams.md",tags:[],version:"current",lastUpdatedBy:"Kamaljeeth Vijay",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docsSidebar",previous:{title:"System Architecture",permalink:"/project-003-story-builder-team-1/docs/category/system-architecture"},next:{title:"Use Case Diagram",permalink:"/project-003-story-builder-team-1/docs/system-architecture/use-case-diagram"}},l={},c=[{value:"Frontend Class Diagram",id:"frontend-class-diagram",level:2},{value:"<code>App</code>",id:"app",level:2},{value:"Purpose",id:"purpose",level:3},{value:"Data Fields",id:"data-fields",level:3},{value:"Methods",id:"methods",level:3},{value:"<code>render()</code>",id:"render",level:4},{value:"<code>AGENT_BOX</code>",id:"agent_box",level:2},{value:"Purpose",id:"purpose-1",level:3},{value:"Data Fields",id:"data-fields-1",level:3},{value:"Methods",id:"methods-1",level:3},{value:"<code>handle_continue(): void</code>",id:"handle_continue-void",level:4},{value:"<code>AGENT_SELECTION</code>",id:"agent_selection",level:2},{value:"Purpose",id:"purpose-2",level:3},{value:"Data Fields",id:"data-fields-2",level:3},{value:"Methods",id:"methods-2",level:3},{value:"<code>handle_confirm(): void</code>",id:"handle_confirm-void",level:4},{value:"<code>handle_agent_change(): void</code>",id:"handle_agent_change-void",level:4},{value:"<code>handle_add_agent(): void</code>",id:"handle_add_agent-void",level:4},{value:"<code>handle_remove_agent(): void</code>",id:"handle_remove_agent-void",level:4},{value:"<code>get_options(): void</code>",id:"get_options-void",level:4},{value:"<code>AGENT_THOUGHTS</code>",id:"agent_thoughts",level:2},{value:"Purpose",id:"purpose-3",level:3},{value:"Data Fields / Methods",id:"data-fields--methods",level:3},{value:"<code>BEST_RESPONSE</code>",id:"best_response",level:2},{value:"Purpose",id:"purpose-4",level:3},{value:"Methods",id:"methods-3",level:3},{value:"<code>handle_continue(): void</code>",id:"handle_continue-void-1",level:4},{value:"<code>CHAPTER_LIST</code>",id:"chapter_list",level:2},{value:"Purpose",id:"purpose-5",level:3},{value:"Methods",id:"methods-4",level:3},{value:"<code>handle_chapter_click(): void</code>",id:"handle_chapter_click-void",level:4},{value:"<code>handle_view_entire_story(): void</code>",id:"handle_view_entire_story-void",level:4},{value:"<code>CHAPTER_VIEW</code>",id:"chapter_view",level:2},{value:"Purpose",id:"purpose-6",level:3},{value:"<code>CREATE_ACCOUNT</code>",id:"create_account",level:2},{value:"Purpose",id:"purpose-7",level:3},{value:"Methods",id:"methods-5",level:3},{value:"<code>handle_create_account(): void</code>",id:"handle_create_account-void",level:4},{value:"<code>handle_login</code>",id:"handle_login",level:4},{value:"<code>LOGIN</code>",id:"login",level:2},{value:"Purpose",id:"purpose-8",level:3},{value:"Methods",id:"methods-6",level:3},{value:"<code>handle_login(): void</code>",id:"handle_login-void",level:4},{value:"<code>handle_create_account(): void</code>",id:"handle_create_account-void-1",level:4},{value:"<code>HOME</code>",id:"home",level:2},{value:"Purpose",id:"purpose-9",level:3},{value:"<code>MAIN_LAYOUT</code>",id:"main_layout",level:2},{value:"Purpose",id:"purpose-10",level:3},{value:"Methods",id:"methods-7",level:3},{value:"<code>handle_logo_click(): void</code>",id:"handle_logo_click-void",level:4},{value:"<code>PROTECTED_ROUTE</code>",id:"protected_route",level:2},{value:"Purpose",id:"purpose-11",level:3},{value:"<code>STORY_AGENTS_VIEW</code>",id:"story_agents_view",level:2},{value:"Purpose",id:"purpose-12",level:3},{value:"<code>STORY_LIST</code>",id:"story_list",level:2},{value:"Purpose",id:"purpose-13",level:3},{value:"Methods",id:"methods-8",level:3},{value:"<code>handle_delete_click(): void</code>",id:"handle_delete_click-void",level:4},{value:"<code>handle_delete_confirm(): void</code>",id:"handle_delete_confirm-void",level:4},{value:"<code>toggle_expand(): void</code>",id:"toggle_expand-void",level:4},{value:"<code>STORY_PROMPT_BOX</code>",id:"story_prompt_box",level:2},{value:"Purpose",id:"purpose-14",level:3},{value:"Methods",id:"methods-9",level:3},{value:"<code>handle_submit(): void</code>",id:"handle_submit-void",level:4},{value:"<code>STORY_VIEW</code>",id:"story_view",level:2},{value:"Purpose",id:"purpose-15",level:3},{value:"Backend Class Diagram",id:"backend-class-diagram",level:2},{value:"<code>Agent</code>",id:"agent",level:2},{value:"Purpose",id:"purpose-16",level:3},{value:"Data Fields",id:"data-fields-3",level:3},{value:"Methods",id:"methods-10",level:3},{value:"<code>structured_send_off(agent_graph, message): Promise&lt;any&gt;</code>",id:"structured_send_offagent_graph-message-promiseany",level:4},{value:"<code>stream_send_off(res, agent_graph, formatted_input): void</code>",id:"stream_send_offres-agent_graph-formatted_input-void",level:4},{value:"<code>Courier</code>",id:"courier",level:2},{value:"Purpose",id:"purpose-17",level:3},{value:"Data Fields",id:"data-fields-4",level:3},{value:"Methods",id:"methods-11",level:3},{value:"<code>determine_best_result(votes): any</code>",id:"determine_best_resultvotes-any",level:4},{value:"<code>db_store(step, user_id, story_id, chapter_number, db_data, res): Promise&lt;void&gt;</code>",id:"db_storestep-user_id-story_id-chapter_number-db_data-res-promisevoid",level:4},{value:"<code>aggregateHandler(req, res): void</code>",id:"aggregatehandlerreq-res-void",level:4},{value:"<code>Translator</code>",id:"translator",level:2},{value:"Purpose",id:"purpose-18",level:3},{value:"Data Fields",id:"data-fields-5",level:3},{value:"Methods",id:"methods-12",level:3},{value:"<code>translateHandler(req, res): void</code>",id:"translatehandlerreq-res-void",level:4},{value:"<code>AgentController</code>",id:"agentcontroller",level:2},{value:"Purpose",id:"purpose-19",level:3},{value:"Data Fields",id:"data-fields-6",level:3},{value:"Methods",id:"methods-13",level:3},{value:"<code>agent_list(req, res, next): void</code>",id:"agent_listreq-res-next-void",level:4},{value:"<code>agent_detail(req, res, next): void</code>",id:"agent_detailreq-res-next-void",level:4},{value:"<code>agent_create_post(req, res, next): void</code>",id:"agent_create_postreq-res-next-void",level:4},{value:"<code>agent_delete_post(req, res, next): void</code>",id:"agent_delete_postreq-res-next-void",level:4},{value:"<code>agent_update_post(req, res, next): void</code>",id:"agent_update_postreq-res-next-void",level:4},{value:"<code>agent_update_last_response_post(req, res, next): void</code>",id:"agent_update_last_response_postreq-res-next-void",level:4},{value:"<code>agent_get_last_response(req, res, next): void</code>",id:"agent_get_last_responsereq-res-next-void",level:4},{value:"<code>PersonaController</code>",id:"personacontroller",level:2},{value:"Purpose",id:"purpose-20",level:3},{value:"Data Fields",id:"data-fields-7",level:3},{value:"Methods",id:"methods-14",level:3},{value:"<code>persona_list(req, res, next): void</code>",id:"persona_listreq-res-next-void",level:4},{value:"<code>create_persona(req, res, next): void</code>",id:"create_personareq-res-next-void",level:4},{value:"<code>delete_persona(req, res, next): void</code>",id:"delete_personareq-res-next-void",level:4},{value:"<code>StoryController</code>",id:"storycontroller",level:2},{value:"Purpose",id:"purpose-21",level:3},{value:"Data Fields",id:"data-fields-8",level:3},{value:"Methods",id:"methods-15",level:3},{value:"<code>story_create(req, res, next): void</code>",id:"story_createreq-res-next-void",level:4},{value:"<code>user_stories_list(req, res, next): void</code>",id:"user_stories_listreq-res-next-void",level:4},{value:"<code>story_details(req, res, next): void</code>",id:"story_detailsreq-res-next-void",level:4},{value:"<code>story_delete(req, res, next): void</code>",id:"story_deletereq-res-next-void",level:4},{value:"<code>story_chapter_details(req, res, next): void</code>",id:"story_chapter_detailsreq-res-next-void",level:4},{value:"<code>story_name_update(req, res, next): void</code>",id:"story_name_updatereq-res-next-void",level:4},{value:"<code>story_get_number_of_chapters(req, res, next): void</code>",id:"story_get_number_of_chaptersreq-res-next-void",level:4},{value:"<code>story_add_outline(req, res, next): void</code>",id:"story_add_outlinereq-res-next-void",level:4},{value:"<code>story_add_agent_outlines(req, res, next): void</code>",id:"story_add_agent_outlinesreq-res-next-void",level:4},{value:"<code>story_add_critique(req, res, next): void</code>",id:"story_add_critiquereq-res-next-void",level:4},{value:"<code>story_add_agent_critiques(req, res, next): void</code>",id:"story_add_agent_critiquesreq-res-next-void",level:4},{value:"<code>story_add_chapter(req, res, next): void</code>",id:"story_add_chapterreq-res-next-void",level:4},{value:"<code>story_add_agent_chapter(req, res, next): void</code>",id:"story_add_agent_chapterreq-res-next-void",level:4},{value:"<code>story_agent_chapter_edit(req, res, next): void</code>",id:"story_agent_chapter_editreq-res-next-void",level:4},{value:"<code>story_agent_critique_edit(req, res, next): void</code>",id:"story_agent_critique_editreq-res-next-void",level:4},{value:"<code>story_get_critique(req, res, next): void</code>",id:"story_get_critiquereq-res-next-void",level:4},{value:"<code>story_agent_chapter_votes(req, res, next): void</code>",id:"story_agent_chapter_votesreq-res-next-void",level:4},{value:"<code>story_get_outline(req, res, next): void</code>",id:"story_get_outlinereq-res-next-void",level:4},{value:"<code>story_agents_list(req, res, next): void</code>",id:"story_agents_listreq-res-next-void",level:4},{value:"<code>story_get_generate_outline_details(req, res, next): void</code>",id:"story_get_generate_outline_detailsreq-res-next-void",level:4},{value:"<code>story_get_critique_outline_details(req, res, next): void</code>",id:"story_get_critique_outline_detailsreq-res-next-void",level:4},{value:"<code>story_get_rewrite_outline_details(req, res, next): void</code>",id:"story_get_rewrite_outline_detailsreq-res-next-void",level:4},{value:"<code>story_get_first_chapter_details(req, res, next): void</code>",id:"story_get_first_chapter_detailsreq-res-next-void",level:4},{value:"<code>story_get_next_chapter_details(req, res, next): void</code>",id:"story_get_next_chapter_detailsreq-res-next-void",level:4},{value:"<code>story_get_critique_chapter_details(req, res, next): void</code>",id:"story_get_critique_chapter_detailsreq-res-next-void",level:4},{value:"<code>story_get_rewrite_chapter_details(req, res, next): void</code>",id:"story_get_rewrite_chapter_detailsreq-res-next-void",level:4},{value:"<code>story_get_step(req, res, next): void</code>",id:"story_get_stepreq-res-next-void",level:4},{value:"<code>story_update_step(req, res, next): void</code>",id:"story_update_stepreq-res-next-void",level:4},{value:"<code>UserController</code>",id:"usercontroller",level:2},{value:"Purpose",id:"purpose-22",level:3},{value:"Data Fields",id:"data-fields-9",level:3},{value:"Methods",id:"methods-16",level:3},{value:"<code>create_user(req, res, next): void</code>",id:"create_userreq-res-next-void",level:4},{value:"<code>user_login(req, res, next): void</code>",id:"user_loginreq-res-next-void",level:4},{value:"<code>user_delete(req, res, next): void</code>",id:"user_deletereq-res-next-void",level:4},{value:"<code>user_update(req, res, next): void</code>",id:"user_updatereq-res-next-void",level:4},{value:"<code>user_details(req, res, next): void</code>",id:"user_detailsreq-res-next-void",level:4}];function a(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",mermaid:"mermaid",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"class-diagrams",children:"Class Diagrams"}),"\n",(0,r.jsx)(n.h2,{id:"frontend-class-diagram",children:"Frontend Class Diagram"}),"\n",(0,r.jsx)(n.mermaid,{value:"  classDiagram\n    class App {\n        +render()\n    }\n\n    class AGENT_BOX {\n        +handle_continue() void\n    }\n\n    class AGENT_SELECTION {\n        +handle_confirm() void\n        +handle_agent_change() void\n        +handle_add_agent() void\n        +handle_remove_agent() void\n        +get_options() void\n    }\n\n    class AGENT_THOUGHTS {\n\n    }\n\n    class BEST_RESPONSE {\n        +handle_continue() void\n    }\n\n    class CHAPTER_LIST {\n        +handle_chapter_click() void\n        +handle_view_entire_story() void\n    }\n\n    class CHAPTER_VIEW {\n\n    }\n\n    class CREATE_ACCOUNT {\n        +handle_create_account() void\n        +handle_login\n    }\n\n    class LOGIN {\n        +handle_login() void\n        +handle_create_account() void\n    }\n\n    class HOME {\n\n    }\n\n    class MAIN_LAYOUT {\n        +handle_logo_click() void\n    }\n\n    class PROTECTED_ROUTE {\n\n    }\n\n    class STORY_AGENTS_VIEW {\n\n    }\n\n    class STORY_LIST {\n        +handle_delete_click() void\n        +handle_delete_confirm() void\n        +toggle_expand() void\n    }\n\n    class STORY_PROMPT_BOX {\n        +handle_submit() void\n    }\n\n    class STORY_VIEW {\n\n    }\n\n    \n    App *-- CREATE_ACCOUNT\n    App *-- LOGIN\n    App *-- PROTECTED_ROUTE\n    PROTECTED_ROUTE *-- MAIN_LAYOUT\n    MAIN_LAYOUT *-- HOME\n    MAIN_LAYOUT *-- AGENT_SELECTION\n    MAIN_LAYOUT *-- STORY_PROMPT_BOX\n    MAIN_LAYOUT *-- STORY_AGENTS_VIEW\n    MAIN_LAYOUT *-- STORY_LIST\n    MAIN_LAYOUT *-- BEST_RESPONSE\n    MAIN_LAYOUT *-- CHAPTER_LIST\n    STORY_AGENTS_VIEW *-- AGENT_BOX\n    STORY_AGENTS_VIEW *-- AGENT_THOUGHTS\n    MAIN_LAYOUT *-- CHAPTER_VIEW\n    MAIN_LAYOUT *-- STORY_VIEW"}),"\n",(0,r.jsx)(n.h2,{id:"app",children:(0,r.jsx)(n.code,{children:"App"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Describes the root component of the application."}),"\n",(0,r.jsx)(n.h3,{id:"data-fields",children:"Data Fields"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"None"})}),"\n",(0,r.jsx)(n.h3,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"render",children:(0,r.jsx)(n.code,{children:"render()"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Render the main application layout."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Application initialized."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Application UI is returned/displayed."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"JSX.Element"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"agent_box",children:(0,r.jsx)(n.code,{children:"AGENT_BOX"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-1",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Manages the display for individual agent responses."}),"\n",(0,r.jsx)(n.h3,{id:"data-fields-1",children:"Data Fields"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"None"})}),"\n",(0,r.jsx)(n.h3,{id:"methods-1",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"handle_continue-void",children:(0,r.jsx)(n.code,{children:"handle_continue(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Proceed to the next chapter generation with this specificied agent response."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Agents must be done streaming previous response."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Streaming for next chapter apparent."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"agent_selection",children:(0,r.jsx)(n.code,{children:"AGENT_SELECTION"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-2",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Manages agent-related actions: selecting, adding, removing agents."}),"\n",(0,r.jsx)(n.h3,{id:"data-fields-2",children:"Data Fields"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"None"})}),"\n",(0,r.jsx)(n.h3,{id:"methods-2",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"handle_confirm-void",children:(0,r.jsx)(n.code,{children:"handle_confirm(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Confirm selected agents."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"handle_agent_change-void",children:(0,r.jsx)(n.code,{children:"handle_agent_change(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Change selected agent."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"handle_add_agent-void",children:(0,r.jsx)(n.code,{children:"handle_add_agent(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Add a new agent."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"handle_remove_agent-void",children:(0,r.jsx)(n.code,{children:"handle_remove_agent(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Remove an existing agent slot."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"get_options-void",children:(0,r.jsx)(n.code,{children:"get_options(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Fetch available agent options."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"agent_thoughts",children:(0,r.jsx)(n.code,{children:"AGENT_THOUGHTS"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-3",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Displays or handles agent-generated thoughts about their response."}),"\n",(0,r.jsx)(n.h3,{id:"data-fields--methods",children:"Data Fields / Methods"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"None currently defined"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"best_response",children:(0,r.jsx)(n.code,{children:"BEST_RESPONSE"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-4",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Displays highest voted response and nothing else."}),"\n",(0,r.jsx)(n.h3,{id:"methods-3",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"handle_continue-void-1",children:(0,r.jsx)(n.code,{children:"handle_continue(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Generate next chapter with this response."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"chapter_list",children:(0,r.jsx)(n.code,{children:"CHAPTER_LIST"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-5",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Displays list of chapters and allows navigation."}),"\n",(0,r.jsx)(n.h3,{id:"methods-4",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"handle_chapter_click-void",children:(0,r.jsx)(n.code,{children:"handle_chapter_click(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Navigate to clicked chapter."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"handle_view_entire_story-void",children:(0,r.jsx)(n.code,{children:"handle_view_entire_story(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Navigate to entire story view."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"chapter_view",children:(0,r.jsx)(n.code,{children:"CHAPTER_VIEW"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-6",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Displays selected chapter."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"create_account",children:(0,r.jsx)(n.code,{children:"CREATE_ACCOUNT"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-7",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Handles user registration."}),"\n",(0,r.jsx)(n.h3,{id:"methods-5",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"handle_create_account-void",children:(0,r.jsx)(n.code,{children:"handle_create_account(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Submit and create a new account."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"handle_login",children:(0,r.jsx)(n.code,{children:"handle_login"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Redirect to login."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"login",children:(0,r.jsx)(n.code,{children:"LOGIN"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-8",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Handles login logic."}),"\n",(0,r.jsx)(n.h3,{id:"methods-6",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"handle_login-void",children:(0,r.jsx)(n.code,{children:"handle_login(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Log in a user."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": On invalid credentials."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"handle_create_account-void-1",children:(0,r.jsx)(n.code,{children:"handle_create_account(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Redirect to account creation."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"home",children:(0,r.jsx)(n.code,{children:"HOME"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-9",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Base screen for no story selected."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"main_layout",children:(0,r.jsx)(n.code,{children:"MAIN_LAYOUT"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-10",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Contains shared structure like navbar, sidebars, and routing."}),"\n",(0,r.jsx)(n.h3,{id:"methods-7",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"handle_logo_click-void",children:(0,r.jsx)(n.code,{children:"handle_logo_click(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Navigate home when logo is clicked."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"protected_route",children:(0,r.jsx)(n.code,{children:"PROTECTED_ROUTE"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-11",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Wraps routes that require authentication."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"story_agents_view",children:(0,r.jsx)(n.code,{children:"STORY_AGENTS_VIEW"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-12",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Displays selected agents and their responses and thoughts."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"story_list",children:(0,r.jsx)(n.code,{children:"STORY_LIST"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-13",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Displays stories with delete and expand functionality."}),"\n",(0,r.jsx)(n.h3,{id:"methods-8",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"handle_delete_click-void",children:(0,r.jsx)(n.code,{children:"handle_delete_click(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Opt to delete story chosen."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"handle_delete_confirm-void",children:(0,r.jsx)(n.code,{children:"handle_delete_confirm(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Confirm deletion of story."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": On backend failure or access issues."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"toggle_expand-void",children:(0,r.jsx)(n.code,{children:"toggle_expand(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Expand dropdown of story."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"story_prompt_box",children:(0,r.jsx)(n.code,{children:"STORY_PROMPT_BOX"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-14",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Handles user input for story prompts."}),"\n",(0,r.jsx)(n.h3,{id:"methods-9",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"handle_submit-void",children:(0,r.jsx)(n.code,{children:"handle_submit(): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Submit the entered prompt."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),": None"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": On empty or invalid prompt"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"story_view",children:(0,r.jsx)(n.code,{children:"STORY_VIEW"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-15",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Displays a story for viewing."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"backend-class-diagram",children:"Backend Class Diagram"}),"\n",(0,r.jsx)(n.mermaid,{value:"  classDiagram\n    class Frontend {\n    }\n\n    class Agent {\n        +structured_send_off(agent_graph, message)\n        +stream_send_off(res, agent_graph, formatted_input)\n    }\n\n    class LLM {\n    }\n\n    class Courier {\n        +determine_best_result(votes)\n        +db_store(step, user_id, story_id, chapter_number, db_data, res)\n        +aggregateHandler(req, res)\n    }\n\n    class Translator {\n        +translateHandler(req, res)\n    }\n\n    class AgentController {\n        +agent_list(req, res, next)\n        +agent_detail(req, res, next)\n        +agent_create_post(req, res, next)\n        +agent_delete_post(req, res, next)\n        +agent_update_post(req, res, next)\n        +agent_update_last_response_post(req, res, next)\n        +agent_get_last_response(req, res, next)\n    }\n\n    class PersonaController {\n        +persona_list(req, res, next)\n        +create_persona(req, res, next)\n        +delete_persona(req, res, next)\n    }\n\n    class StoryController {\n        +story_create(req, res, next)\n        +user_stories_list(req, res, next)\n        +story_details(req, res, next)\n        +story_delete(req, res, next)\n        +story_chapter_details(req, res, next)\n        +story_name_update(req, res, next)\n        +story_get_number_of_chapters(req, res, next)\n        +story_add_outline(req, res, next)\n        +story_add_agent_outlines(req, res, next)\n        +story_add_critique(req, res, next)\n        +story_add_agent_critiques(req, res, next)\n        +story_add_chapter(req, res, next)\n        +story_add_agent_chapter(req, res, next)\n        +story_agent_chapter_edit(req, res, next)\n        +story_agent_critique_edit(req, res, next)\n        +story_get_critique(req, res, next)\n        +story_agent_chapter_votes(req, res, next)\n        +story_get_outline(req, res, next)\n        +story_agents_list(req, res, next)\n        +story_get_generate_outline_details(req, res, next)\n        +story_get_critique_outline_details(req, res, next)\n        +story_get_rewrite_outline_details(req, res, next)\n        +story_get_first_chapter_details(req, res, next)\n        +story_get_next_chapter_details(req, res, next)\n        +story_get_critique_chapter_details(req, res, next)\n        +story_get_rewrite_chapter_details(req, res, next)\n        +story_get_step(req, res, next)\n        +story_update_step(req, res, next)\n    }\n\n    class UserController {\n        +create_user(req, res, next)\n        +user_login(req, res, next)\n        +user_delete(req, res, next)\n        +user_update(req, res, next)\n        +user_details(req, res, next)\n    }\n\n    class Database {\n    }\n\n    Frontend ..> Translator\n    Frontend ..> UserController\n    Frontend ..> PersonaController\n\n    Translator ..> Courier\n    Translator ..> StoryController\n    Translator ..> PersonaController\n\n    Courier ..> Agent\n    Courier ..> StoryController\n\n    Agent ..> LLM\n\n    StoryController ..> Database\n    UserController ..> Database\n    PersonaController ..> Database\n    AgentController ..> Database"}),"\n",(0,r.jsx)(n.h2,{id:"agent",children:(0,r.jsx)(n.code,{children:"Agent"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-16",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Encapsulates logic for dispatching messages to and receiving responses from the LLM according to an agent graph."}),"\n",(0,r.jsx)(n.h3,{id:"data-fields-3",children:"Data Fields"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"None"})}),"\n",(0,r.jsx)(n.h3,{id:"methods-10",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"structured_send_offagent_graph-message-promiseany",children:(0,r.jsx)(n.code,{children:"structured_send_off(agent_graph, message): Promise<any>"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Send a discrete, structured request to the LLM based on the given agent graph and input message."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": ",(0,r.jsx)(n.code,{children:"agent_graph"})," is a valid graph object; ",(0,r.jsx)(n.code,{children:"message"})," is non-empty."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Resolves with the LLM\u2019s parsed response."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"agent_graph"})," (Object): Defines nodes and transitions for this agent."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"message"})," (string): User\u2019s or system\u2019s input text."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"Promise<any>"})," \u2014 the structured LLM response."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": May reject on invalid graph or LLM errors."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"stream_send_offres-agent_graph-formatted_input-void",children:(0,r.jsx)(n.code,{children:"stream_send_off(res, agent_graph, formatted_input): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Stream the LLM\u2019s output directly to an HTTP response in chunks, following the specified agent graph."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": ",(0,r.jsx)(n.code,{children:"res"})," is an active Express response; streaming is supported by the LLM."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Chunks of generated text are piped to ",(0,r.jsx)(n.code,{children:"res"})," until completion."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"res"})," (Response): Express response object for streaming."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"agent_graph"})," (Object): Defines the streaming logic."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"formatted_input"})," (string): Pre-processed prompt text."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": May throw on network/stream errors."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"courier",children:(0,r.jsx)(n.code,{children:"Courier"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-17",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Aggregates agent votes, determines consensus, persists intermediary data to the database, and handles batch requests."}),"\n",(0,r.jsx)(n.h3,{id:"data-fields-4",children:"Data Fields"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"None"})}),"\n",(0,r.jsx)(n.h3,{id:"methods-11",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"determine_best_resultvotes-any",children:(0,r.jsx)(n.code,{children:"determine_best_result(votes): any"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Compute the winning response based on an array of agent votes."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": ",(0,r.jsx)(n.code,{children:"votes"})," is a non-empty array of comparable vote objects."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Returns the vote with highest score or tie-break logic applied."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"votes"})," (Array): List of vote objects from agents."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"any"})," \u2014 the selected result object."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": None"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"db_storestep-user_id-story_id-chapter_number-db_data-res-promisevoid",children:(0,r.jsx)(n.code,{children:"db_store(step, user_id, story_id, chapter_number, db_data, res): Promise<void>"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Persist a step\u2019s data and the LLM response to the database."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": All identifiers are valid; database connection is live."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Data is stored and an acknowledgment may be sent on ",(0,r.jsx)(n.code,{children:"res"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"step"})," (string): The stage name (e.g., \u201coutline\u201d, \u201cchapter\u201d)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"user_id"})," (string): ID of the requesting user."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"story_id"})," (string): ID of the current story."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chapter_number"})," (number): Chapter index."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"db_data"})," (Object): Payload to store."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"res"})," (Response): Express response to confirm storage."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": May reject on DB errors."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"aggregatehandlerreq-res-void",children:(0,r.jsx)(n.code,{children:"aggregateHandler(req, res): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Express route handler that collects votes from multiple agents, invokes aggregation, and returns the final result."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Request body contains ",(0,r.jsx)(n.code,{children:"votes"})," array and identifiers."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends JSON with the aggregated best result."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"req"})," (Request): Express request object."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"res"})," (Response): Express response object."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": Forwards errors via Express error middleware."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"translator",children:(0,r.jsx)(n.code,{children:"Translator"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-18",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Acts as a fa\xe7ade, translating frontend HTTP calls into Courier or StoryController actions with proper payload formatting."}),"\n",(0,r.jsx)(n.h3,{id:"data-fields-5",children:"Data Fields"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"None"})}),"\n",(0,r.jsx)(n.h3,{id:"methods-12",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"translatehandlerreq-res-void",children:(0,r.jsx)(n.code,{children:"translateHandler(req, res): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Route incoming HTTP requests to the appropriate backend service (Courier or StoryController) after input validation."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Request URL and method correspond to a known translation."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Invokes the target handler and streams or returns its response."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"req"})," (Request): Express request object."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"res"})," (Response): Express response object."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return Value"}),": ",(0,r.jsx)(n.code,{children:"void"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exceptions Thrown"}),": Forwards errors via Express error middleware."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"agentcontroller",children:(0,r.jsx)(n.code,{children:"AgentController"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-19",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"CRUD operations for agent configurations stored in the database."}),"\n",(0,r.jsx)(n.h3,{id:"data-fields-6",children:"Data Fields"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"None"})}),"\n",(0,r.jsx)(n.h3,{id:"methods-13",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"agent_listreq-res-next-void",children:(0,r.jsx)(n.code,{children:"agent_list(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Retrieve a list of all agents."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": User is authenticated."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends JSON array of agents."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"agent_detailreq-res-next-void",children:(0,r.jsx)(n.code,{children:"agent_detail(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Fetch details for a single agent by ID."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": ",(0,r.jsx)(n.code,{children:"req.params.id"})," is provided."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends JSON with agent data."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"agent_create_postreq-res-next-void",children:(0,r.jsx)(n.code,{children:"agent_create_post(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Create a new agent record."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Request body contains valid agent fields."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Inserts into DB and returns created agent."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"agent_delete_postreq-res-next-void",children:(0,r.jsx)(n.code,{children:"agent_delete_post(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Delete an agent by ID."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": ",(0,r.jsx)(n.code,{children:"req.params.id"})," matches existing record."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Removes from DB and confirms deletion."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"agent_update_postreq-res-next-void",children:(0,r.jsx)(n.code,{children:"agent_update_post(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Update an agent\u2019s properties."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Valid ID and update payload."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Persists changes and returns updated agent."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"agent_update_last_response_postreq-res-next-void",children:(0,r.jsx)(n.code,{children:"agent_update_last_response_post(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Store the last response text for an agent."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Agent exists; ",(0,r.jsx)(n.code,{children:"req.body.response"})," is non-empty."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Updates record and returns acknowledgment."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"agent_get_last_responsereq-res-next-void",children:(0,r.jsx)(n.code,{children:"agent_get_last_response(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Retrieve the stored last response for an agent."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Agent ID provided."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends the last response text."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"personacontroller",children:(0,r.jsx)(n.code,{children:"PersonaController"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-20",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Manage user-defined personas used to seed agent behavior."}),"\n",(0,r.jsx)(n.h3,{id:"data-fields-7",children:"Data Fields"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"None"})}),"\n",(0,r.jsx)(n.h3,{id:"methods-14",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"persona_listreq-res-next-void",children:(0,r.jsx)(n.code,{children:"persona_list(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": List all personas for the authenticated user."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": User session is valid."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends JSON array of personas."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"create_personareq-res-next-void",children:(0,r.jsx)(n.code,{children:"create_persona(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Create a new persona entry."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Request body includes persona name and attributes."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Persists persona and returns its record."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"delete_personareq-res-next-void",children:(0,r.jsx)(n.code,{children:"delete_persona(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Delete an existing persona by ID."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Persona ID is valid."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Removes persona and confirms deletion."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"storycontroller",children:(0,r.jsx)(n.code,{children:"StoryController"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-21",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Handles all story lifecycle actions: creation, retrieval, updating outlines/chapters/critiques, and stepping through the story generation process."}),"\n",(0,r.jsx)(n.h3,{id:"data-fields-8",children:"Data Fields"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"None"})}),"\n",(0,r.jsx)(n.h3,{id:"methods-15",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"story_createreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_create(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Initialize a new story for a user."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": User authenticated; title provided."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Creates DB record and returns story metadata."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"user_stories_listreq-res-next-void",children:(0,r.jsx)(n.code,{children:"user_stories_list(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Fetch all stories belonging to the current user."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Valid user session."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Returns array of story summaries."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_detailsreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_details(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Get full details for a specific story."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": ",(0,r.jsx)(n.code,{children:"req.params.story_id"})," is valid."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Returns JSON story object."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_deletereq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_delete(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Remove a story and its associated chapters/outlines."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Story exists and belongs to user."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Deletes DB records and confirms."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_chapter_detailsreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_chapter_details(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Retrieve a particular chapter\u2019s text and metadata."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Chapter number valid."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends chapter JSON."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_name_updatereq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_name_update(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Rename an existing story."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": New name provided."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Updates DB and returns updated story."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_get_number_of_chaptersreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_get_number_of_chapters(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Return count of chapters in a story."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Story ID valid."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends integer count."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_add_outlinereq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_add_outline(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Generate and store a story outline via agents."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Story exists; outline parameters provided."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Persists outline in DB and returns it."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_add_agent_outlinesreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_add_agent_outlines(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Generate multiple agent-specific outlines for comparison."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Same as ",(0,r.jsx)(n.code,{children:"story_add_outline"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Stores each agent\u2019s outline."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_add_critiquereq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_add_critique(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Solicit critique on an existing outline/chapter."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Target content exists."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Persists critique and returns feedback."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_add_agent_critiquesreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_add_agent_critiques(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Gather agent-specific critiques for comparison."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Same as ",(0,r.jsx)(n.code,{children:"story_add_critique"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Stores each critique."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_add_chapterreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_add_chapter(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Generate the next chapter from approved outline."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Outline finalized."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Saves chapter text."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_add_agent_chapterreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_add_agent_chapter(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Produce multiple candidate chapters via different agents."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Same as ",(0,r.jsx)(n.code,{children:"story_add_chapter"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Persists each candidate."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_agent_chapter_editreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_agent_chapter_edit(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Apply user\u2019s edits to a generated chapter."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Chapter exists."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Updates DB and returns revised text."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_agent_critique_editreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_agent_critique_edit(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Refine a stored critique based on user feedback."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Critique exists."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Persists updated critique."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_get_critiquereq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_get_critique(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Retrieve stored critique for a chapter or outline."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": IDs valid."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends critique JSON."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_agent_chapter_votesreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_agent_chapter_votes(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Collect user or agent votes on candidate chapters."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Candidate chapters present."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Stores votes and returns tally."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_get_outlinereq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_get_outline(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Fetch the main outline for review."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Outline exists."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends outline JSON."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_agents_listreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_agents_list(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": List agents assigned to a story."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Story ID provided."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Returns agent IDs and metadata."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_get_generate_outline_detailsreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_get_generate_outline_details(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Provide status/details of an in-progress outline generation."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Generation initiated."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends progress info."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_get_critique_outline_detailsreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_get_critique_outline_details(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Provide status/details of critique generation on the outline."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Critique step started."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Returns progress info."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_get_rewrite_outline_detailsreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_get_rewrite_outline_details(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Provide status/details of an outline rewrite step."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Rewrite step initiated."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends progress info."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_get_first_chapter_detailsreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_get_first_chapter_details(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Return details on the initial chapter generation."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": First chapter generation done."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends chapter meta."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_get_next_chapter_detailsreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_get_next_chapter_details(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Return details on the latest chapter generation."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Next chapter exists."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends chapter meta."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_get_critique_chapter_detailsreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_get_critique_chapter_details(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Provide status/details of chapter critique."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Critique in progress or done."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Returns critique status."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_get_rewrite_chapter_detailsreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_get_rewrite_chapter_details(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Provide status/details of chapter rewrite."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Rewrite step started."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends progress info."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_get_stepreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_get_step(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Retrieve the current step name in the story pipeline."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Story exists."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Returns step identifier."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"story_update_stepreq-res-next-void",children:(0,r.jsx)(n.code,{children:"story_update_step(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Advance or modify the current story pipeline step."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Valid new step provided."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Updates step in DB."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"usercontroller",children:(0,r.jsx)(n.code,{children:"UserController"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-22",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"Handle user account creation, authentication, updates, and deletion."}),"\n",(0,r.jsx)(n.h3,{id:"data-fields-9",children:"Data Fields"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"None"})}),"\n",(0,r.jsx)(n.h3,{id:"methods-16",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"create_userreq-res-next-void",children:(0,r.jsx)(n.code,{children:"create_user(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Register a new user."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": ",(0,r.jsx)(n.code,{children:"req.body"})," contains username/password."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Persists user record and returns profile."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"user_loginreq-res-next-void",children:(0,r.jsx)(n.code,{children:"user_login(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Authenticate user credentials and issue session or token."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Valid credentials in request."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sets session/cookie and returns success."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"user_deletereq-res-next-void",children:(0,r.jsx)(n.code,{children:"user_delete(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Remove a user account."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Authenticated as target user or admin."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Deletes user record and related data."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"user_updatereq-res-next-void",children:(0,r.jsx)(n.code,{children:"user_update(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Modify user profile fields."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Valid update payload."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Persists changes and returns updated profile."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"user_detailsreq-res-next-void",children:(0,r.jsx)(n.code,{children:"user_details(req, res, next): void"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Fetch profile details for the current or specified user."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-conditions"}),": Authentication or target user ID."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post-conditions"}),": Sends user JSON."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var r=s(96540);const i={},d=r.createContext(i);function t(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);